let Post,expressjwt;_787‍.x([["requireSignin",()=>requireSignin],["canEditDeletePost",()=>canEditDeletePost]]);_787‍.w("../models/post",[["default",["Post"],function(v){Post=v}]]);_787‍.w("express-jwt",[["expressjwt",["expressjwt"],function(v){expressjwt=v}]]);


       const requireSignin = expressjwt({
    secret: process.env.JWT_SECRET,
    algorithms: ["HS256"]
});

       const canEditDeletePost = async(req, res, next) => {
  try{
    const post = await Post.findById(req.params._id);
   // console.log("Post in edit delete middleware=>", post);

   if(req.auth._id != post.postedBy) {
       return res.status(400).send("Unauthorized");
   }
   else{
       next();
   }
  }catch(err){
      _787‍.g.console.log(err);
  }
};